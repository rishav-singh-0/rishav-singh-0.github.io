<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Arch installation Guide | Rishav's Digital Garden</title><meta name=keywords content="Linux"><meta name=description content="Ofcource my notes are are derived from Arch Wiki. And I highly recommend to read it too. These notes contains all the things which i do at the fime of new Arch Installation, so it is well tested.
Create Bootable usb
sudo dd bs=4 if=/mnt/Tools/linux/distros/archlinux-2021.02.01-x86_64.iso of=/dev/sdb conv=fdatasync status=progress
Verify the boot mode
To verify the boot mode, list the efivars directory:
ls /sys/firmware/efi/efivars
If the command shows the directory without error, then the system is booted in UEFI mode. If the directory does not exist, the system may be booted in BIOS (or CSM) mode. If the system did not boot in the mode you desired, refer to your motherboard&rsquo;s manual."><meta name=author content><link rel=canonical href=https://blog.rishavs.in/posts/3-resource/linux/arch-installation-guide/><link crossorigin=anonymous href=/assets/css/stylesheet.93f625d739f1d6a5c6f20c146bc6a8d26b233492b34b2220c54b12fd46a04ded.css integrity="sha256-k/Yl1znx1qXG8gwUa8ao0msjNJKzSyIgxUsS/UagTe0=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.rishavs.in/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.rishavs.in/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.rishavs.in/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.rishavs.in/apple-touch-icon.png><link rel=mask-icon href=https://blog.rishavs.in/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://blog.rishavs.in/posts/3-resource/linux/arch-installation-guide/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://blog.rishavs.in/posts/3-resource/linux/arch-installation-guide/"><meta property="og:site_name" content="Rishav's Digital Garden"><meta property="og:title" content="Arch installation Guide"><meta property="og:description" content="Ofcource my notes are are derived from Arch Wiki. And I highly recommend to read it too. These notes contains all the things which i do at the fime of new Arch Installation, so it is well tested.
Create Bootable usb sudo dd bs=4 if=/mnt/Tools/linux/distros/archlinux-2021.02.01-x86_64.iso of=/dev/sdb conv=fdatasync status=progress Verify the boot mode To verify the boot mode, list the efivars directory: ls /sys/firmware/efi/efivars
If the command shows the directory without error, then the system is booted in UEFI mode. If the directory does not exist, the system may be booted in BIOS (or CSM) mode. If the system did not boot in the mode you desired, refer to your motherboard’s manual."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-03-24T22:47:00+00:00"><meta property="article:modified_time" content="2021-03-24T22:47:00+00:00"><meta property="article:tag" content="Linux"><meta name=twitter:card content="summary"><meta name=twitter:title content="Arch installation Guide"><meta name=twitter:description content="Ofcource my notes are are derived from Arch Wiki. And I highly recommend to read it too. These notes contains all the things which i do at the fime of new Arch Installation, so it is well tested.
Create Bootable usb
sudo dd bs=4 if=/mnt/Tools/linux/distros/archlinux-2021.02.01-x86_64.iso of=/dev/sdb conv=fdatasync status=progress
Verify the boot mode
To verify the boot mode, list the efivars directory:
ls /sys/firmware/efi/efivars
If the command shows the directory without error, then the system is booted in UEFI mode. If the directory does not exist, the system may be booted in BIOS (or CSM) mode. If the system did not boot in the mode you desired, refer to your motherboard&rsquo;s manual."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.rishavs.in/posts/"},{"@type":"ListItem","position":2,"name":"Arch installation Guide","item":"https://blog.rishavs.in/posts/3-resource/linux/arch-installation-guide/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Arch installation Guide","name":"Arch installation Guide","description":"Ofcource my notes are are derived from Arch Wiki. And I highly recommend to read it too. These notes contains all the things which i do at the fime of new Arch Installation, so it is well tested.\nCreate Bootable usb sudo dd bs=4 if=/mnt/Tools/linux/distros/archlinux-2021.02.01-x86_64.iso of=/dev/sdb conv=fdatasync status=progress Verify the boot mode To verify the boot mode, list the efivars directory: ls /sys/firmware/efi/efivars\nIf the command shows the directory without error, then the system is booted in UEFI mode. If the directory does not exist, the system may be booted in BIOS (or CSM) mode. If the system did not boot in the mode you desired, refer to your motherboard\u0026rsquo;s manual.\n","keywords":["Linux"],"articleBody":"Ofcource my notes are are derived from Arch Wiki. And I highly recommend to read it too. These notes contains all the things which i do at the fime of new Arch Installation, so it is well tested.\nCreate Bootable usb sudo dd bs=4 if=/mnt/Tools/linux/distros/archlinux-2021.02.01-x86_64.iso of=/dev/sdb conv=fdatasync status=progress Verify the boot mode To verify the boot mode, list the efivars directory: ls /sys/firmware/efi/efivars\nIf the command shows the directory without error, then the system is booted in UEFI mode. If the directory does not exist, the system may be booted in BIOS (or CSM) mode. If the system did not boot in the mode you desired, refer to your motherboard’s manual.\nConnect to the internet ip link WiFi - iwctl\ndevice list station device scan station device get-networks station device connect SSID SSID is name of your WiFi network (eg. ‘Dark Demon’) Alternate: iwctl --passphrase passphrase station device connect SSID\nTest ping gnu.org\nUpdate the system clock timedatectl set-ntp true\nPartition the disks When recognized by the live system, disks are assigned to a block device such as /dev/sda, /dev/nvme0n1 or /dev/mmcblk0. To identify these devices, use lsblk or fdisk.\nfdisk -l Results ending in rom, loop or airoot may be ignored.\nThe following partitions are required for a chosen device:\nOne partition for the root directory /. For booting in UEFI mode: an EFI system partition. If you want to create any stacked block devices for LVM, system encryption or RAID, do it now. Example look UEFI with GPT\nMount point Partition Partition type Suggested size /mnt/boot or /mnt/boot/efi /dev/efi_system_partition EFI system partition At least 260 MiB [SWAP] /dev/swap_partition Linux swap More than 512 MiB /mnt /dev/root_partition Linux x86-64 root (/) Remainder of the device Format the partitions mount -o noatime,compress=lzo,space_cache=v2,discard=async,subvol=@ /dev/sdb1 /mnt Once the partitions have been created, each newly created partition must be formatted with an appropriate file system. For example, to create an Ext4 file system on /dev/root_partition, run:\nmkfs.ext4 /dev/root_partition\nIf you created a partition for swap, initialize it with mkswap:\nmkswap /dev/swap_partition\nNote: For stacked block devices replace /dev/*_partition with the appropriate block device path.\nMount the file systems Mount the root volume to /mnt. For example, if the root volume is /dev/root_partition:\nmount /dev/root_partition /mnt Create any remaining mount points (such as /mnt/efi) using mkdir and mount their corresponding volumes.\nIf you created a swap volume, enable it with swapon:\nswapon /dev/swap_partition\nInstallation Update the system by pacman -Syy\nSelect the mirrors (Optional) Install reflector by pacman -S reflector\nIf you want you can backup default mirror list\ncp /etc/pacman.d/mirrorlist /etc/pacman.d/mirrorlist.bak\nGetting good mirror list for your location reflector -c \"IN\" -f 12 -l 10 -n 12 --save /etc/pacman.d/mirrorlist\nInstall essential packages pacstrap /mnt base base-devel linux-lts linux-firmware vim networkmanager btrfs-progs grub efibootmgr git Configure the system Fstab Generate an fstab file (use -U to define by UUID):\ngenfstab -U /mnt \u003e\u003e /mnt/etc/fstab\nChroot Change root into the new system:\narch-chroot /mnt\nSet the time zone: ln -sf /usr/share/zoneinfo/Asia/Kolkata /etc/localtime\nRun hwclock to generate /etc/adjtime: hwclock --systohc\nEdit /etc/locale.gen and uncomment en_US.UTF-8 UTF-8 and other needed locales. Generate the locales by running: locale-gen\nCreate the locale.conf file, and set the LANG variable accordingly: echo 'LANG=en_US.UTF-8' \u003e /etc/locale.conf\nNetwork configuration Create the hostname file:\nvim /etc/hostname\nmyhostname\nAdd matching entries to hosts file:\nvim /etc/hosts\n127.0.0.1 localhost ::1 localhost 127.0.1.1 myhostname.localdomain\tmyhostname Initramfs Creating a new initramfs is usually not required, because mkinitcpio was run on installation of the kernel package with pacstrap. For LVM, system encryption or RAID, modify mkinitcpio.conf(5) and recreate the initramfs image: mkinitcpio -P\nSet users Create root password using passwd Create normal user useradd -mG wheel,audio,video rishav Create password for this user passwd rishav Install Grub Bootloader We already installed grub and efibootmgr which are necessary to install grub in efi boot filesystem\nmkdir /boot/efi mount /dev/sda1 /boot/efi grub-install --target=x86_64-efi --bootloader-id=GRUB --efi-directory=/boot/efi grub-mkconfig -o /boot/grub/grub.cfg Other impoetant things Starting important services ststemctl enable NetworkManager Extra Depending on the processor, install the following package: amd-ucode for AMD processors pacman -S amd-ucode intel-ucode for Intel processors. pacman -S intel-ucode ","wordCount":"678","inLanguage":"en","datePublished":"2021-03-24T22:47:00Z","dateModified":"2021-03-24T22:47:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.rishavs.in/posts/3-resource/linux/arch-installation-guide/"},"publisher":{"@type":"Organization","name":"Rishav's Digital Garden","logo":{"@type":"ImageObject","url":"https://blog.rishavs.in/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.rishavs.in/ accesskey=h title="Rishav's Digital Garden (Alt + H)">Rishav's Digital Garden</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.rishavs.in/archives title=Archive><span>Archive</span></a></li><li><a href=https://blog.rishavs.in/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://blog.rishavs.in/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Arch installation Guide</h1><div class=post-meta><span title='2021-03-24 22:47:00 +0000 UTC'>March 24, 2021</span>&nbsp;·&nbsp;4 min</div></header><div class=post-content><p>Ofcource my notes are are derived from <a href=https://wiki.archlinux.org/index.php/Installation_guide>Arch Wiki</a>. And I highly recommend to read it too. These notes contains all the things which i do at the fime of new Arch Installation, so it is well tested.</p><h2 id=create-bootable-usb>Create Bootable usb<a hidden class=anchor aria-hidden=true href=#create-bootable-usb>#</a></h2><pre tabindex=0><code>sudo dd bs=4 if=/mnt/Tools/linux/distros/archlinux-2021.02.01-x86_64.iso of=/dev/sdb conv=fdatasync status=progress
</code></pre><h2 id=verify-the-boot-mode>Verify the boot mode<a hidden class=anchor aria-hidden=true href=#verify-the-boot-mode>#</a></h2><p>To verify the boot mode, list the efivars directory:
<code>ls /sys/firmware/efi/efivars</code></p><p>If the command shows the directory without error, then the system is booted in UEFI mode. If the directory does not exist, the system may be booted in BIOS (or CSM) mode. If the system did not boot in the mode you desired, refer to your motherboard&rsquo;s manual.</p><h2 id=connect-to-the-internet>Connect to the internet<a hidden class=anchor aria-hidden=true href=#connect-to-the-internet>#</a></h2><p><code>ip link</code>
WiFi - <code>iwctl</code></p><ul><li>device list</li><li>station device scan</li><li>station device get-networks</li><li>station device connect SSID<ul><li>SSID is name of your WiFi network (eg. &lsquo;Dark Demon&rsquo;)</li></ul></li></ul><h3 id=alternate>Alternate:<a hidden class=anchor aria-hidden=true href=#alternate>#</a></h3><p><code>iwctl --passphrase passphrase station device connect SSID</code></p><h3 id=test>Test<a hidden class=anchor aria-hidden=true href=#test>#</a></h3><p><code>ping gnu.org</code></p><h2 id=update-the-system-clock>Update the system clock<a hidden class=anchor aria-hidden=true href=#update-the-system-clock>#</a></h2><p><code>timedatectl set-ntp true</code></p><h2 id=partition-the-disks>Partition the disks<a hidden class=anchor aria-hidden=true href=#partition-the-disks>#</a></h2><p>When recognized by the live system, disks are assigned to a block device such as /dev/sda, /dev/nvme0n1 or /dev/mmcblk0. To identify these devices, use lsblk or fdisk.</p><p><code>fdisk -l</code>
Results ending in rom, loop or airoot may be ignored.</p><p>The following partitions are required for a chosen device:</p><ul><li>One partition for the root directory /.</li><li>For booting in UEFI mode: an EFI system partition.</li><li>If you want to create any stacked block devices for LVM, system encryption or RAID, do it now.</li></ul><p>Example look UEFI with GPT</p><table><thead><tr><th style=text-align:left>Mount point</th><th style=text-align:left>Partition</th><th style=text-align:left>Partition type</th><th style=text-align:left>Suggested size</th></tr></thead><tbody><tr><td style=text-align:left>/mnt/boot or /mnt/boot/efi</td><td style=text-align:left>/dev/efi_system_partition</td><td style=text-align:left>EFI system partition</td><td style=text-align:left>At least 260 MiB</td></tr><tr><td style=text-align:left>[SWAP]</td><td style=text-align:left>/dev/swap_partition</td><td style=text-align:left>Linux swap</td><td style=text-align:left>More than 512 MiB</td></tr><tr><td style=text-align:left>/mnt</td><td style=text-align:left>/dev/root_partition</td><td style=text-align:left>Linux x86-64 root (/)</td><td style=text-align:left>Remainder of the device</td></tr></tbody></table><h2 id=format-the-partitions>Format the partitions<a hidden class=anchor aria-hidden=true href=#format-the-partitions>#</a></h2><pre tabindex=0><code>mount -o noatime,compress=lzo,space_cache=v2,discard=async,subvol=@ /dev/sdb1 /mnt
</code></pre><p>Once the partitions have been created, each newly created partition must be formatted with an appropriate file system. For example, to create an Ext4 file system on /dev/root_partition, run:</p><p><code>mkfs.ext4 /dev/root_partition</code></p><p>If you created a partition for swap, initialize it with mkswap:</p><p><code>mkswap /dev/swap_partition</code></p><p>Note: For stacked block devices replace /dev/*_partition with the appropriate block device path.</p><h2 id=mount-the-file-systems>Mount the file systems<a hidden class=anchor aria-hidden=true href=#mount-the-file-systems>#</a></h2><p>Mount the root volume to /mnt. For example, if the root volume is /dev/root_partition:</p><p><code>mount /dev/root_partition /mnt</code>
Create any remaining mount points (such as /mnt/efi) using mkdir and mount their corresponding volumes.</p><p>If you created a swap volume, enable it with swapon:</p><p><code>swapon /dev/swap_partition</code></p><h2 id=installation>Installation<a hidden class=anchor aria-hidden=true href=#installation>#</a></h2><p>Update the system by <code>pacman -Syy</code></p><h3 id=select-the-mirrors-optional>Select the mirrors (Optional)<a hidden class=anchor aria-hidden=true href=#select-the-mirrors-optional>#</a></h3><ul><li><p>Install reflector by <code>pacman -S reflector</code></p></li><li><p>If you want you can backup default mirror list</p></li></ul><p><code>cp /etc/pacman.d/mirrorlist /etc/pacman.d/mirrorlist.bak</code></p><ul><li>Getting good mirror list for your location</li></ul><p><code>reflector -c "IN" -f 12 -l 10 -n 12 --save /etc/pacman.d/mirrorlist</code></p><h2 id=install-essential-packages>Install essential packages<a hidden class=anchor aria-hidden=true href=#install-essential-packages>#</a></h2><pre tabindex=0><code>pacstrap /mnt base base-devel linux-lts linux-firmware vim networkmanager btrfs-progs grub efibootmgr git
</code></pre><h2 id=configure-the-system>Configure the system<a hidden class=anchor aria-hidden=true href=#configure-the-system>#</a></h2><h3 id=fstab>Fstab<a hidden class=anchor aria-hidden=true href=#fstab>#</a></h3><p>Generate an fstab file (use -U to define by UUID):</p><p><code>genfstab -U /mnt >> /mnt/etc/fstab</code></p><h3 id=chroot>Chroot<a hidden class=anchor aria-hidden=true href=#chroot>#</a></h3><p>Change root into the new system:</p><p><code>arch-chroot /mnt</code></p><h3 id=set-the-time-zone>Set the time zone:<a hidden class=anchor aria-hidden=true href=#set-the-time-zone>#</a></h3><p><code>ln -sf /usr/share/zoneinfo/Asia/Kolkata /etc/localtime</code></p><ul><li>Run hwclock to generate /etc/adjtime:</li></ul><p><code>hwclock --systohc</code></p><ul><li>Edit /etc/locale.gen and uncomment en_US.UTF-8 UTF-8 and other needed locales. Generate the locales by running:</li></ul><p><code>locale-gen</code></p><ul><li>Create the locale.conf file, and set the LANG variable accordingly:</li></ul><p><code>echo 'LANG=en_US.UTF-8' > /etc/locale.conf</code></p><p>Network configuration
Create the hostname file:</p><p><code>vim /etc/hostname</code></p><p><code>myhostname</code></p><p>Add matching entries to hosts file:</p><p><code>vim /etc/hosts</code></p><pre tabindex=0><code>127.0.0.1   localhost
::1         localhost
127.0.1.1   myhostname.localdomain	myhostname
</code></pre><h3 id=initramfs>Initramfs<a hidden class=anchor aria-hidden=true href=#initramfs>#</a></h3><p>Creating a new initramfs is usually not required, because mkinitcpio was run on installation of the kernel package with pacstrap.
For LVM, system encryption or RAID, modify mkinitcpio.conf(5) and recreate the initramfs image:
<code>mkinitcpio -P</code></p><h2 id=set-users>Set users<a hidden class=anchor aria-hidden=true href=#set-users>#</a></h2><ul><li>Create root password using <code>passwd</code></li><li>Create normal user
<code>useradd -mG wheel,audio,video rishav</code></li><li>Create password for this user
<code>passwd rishav</code></li></ul><h2 id=install-grub-bootloader>Install Grub Bootloader<a hidden class=anchor aria-hidden=true href=#install-grub-bootloader>#</a></h2><p>We already installed grub and efibootmgr which are necessary to install grub in efi boot filesystem</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir /boot/efi
</span></span><span style=display:flex><span>mount /dev/sda1 /boot/efi
</span></span><span style=display:flex><span>grub-install --target<span style=color:#f92672>=</span>x86_64-efi --bootloader-id<span style=color:#f92672>=</span>GRUB --efi-directory<span style=color:#f92672>=</span>/boot/efi
</span></span><span style=display:flex><span>grub-mkconfig -o /boot/grub/grub.cfg
</span></span></code></pre></div><h2 id=other-impoetant-things>Other impoetant things<a hidden class=anchor aria-hidden=true href=#other-impoetant-things>#</a></h2><h3 id=starting-important-services>Starting important services<a hidden class=anchor aria-hidden=true href=#starting-important-services>#</a></h3><pre tabindex=0><code>ststemctl enable NetworkManager
</code></pre><h3 id=extra>Extra<a hidden class=anchor aria-hidden=true href=#extra>#</a></h3><ul><li>Depending on the processor, install the following package:<ul><li>amd-ucode for AMD processors
<code>pacman -S amd-ucode</code></li><li>intel-ucode for Intel processors.
<code>pacman -S intel-ucode</code></li></ul></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.rishavs.in/tags/linux/>Linux</a></li></ul><nav class=paginav><a class=prev href=https://blog.rishavs.in/posts/3-resource/development/git-undo-mistakes/><span class=title>« Prev</span><br><span>Git Undo Mistakes</span>
</a><a class=next href=https://blog.rishavs.in/posts/2-area/resume/vitarana-drone/><span class=title>Next »</span><br><span>Vitarana Drone</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://blog.rishavs.in/>Rishav's Digital Garden</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>